%%% PACKAGES
\usepackage[T1]{fontenc}
\usepackage[a4paper,left=3cm,right=2cm,top=3cm,bottom=3cm,asymmetric,twoside]{geometry}
\usepackage{libertine}
\usepackage{cite}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{float}
\usepackage{framed}
\usepackage{lastpage}
\usepackage[francais]{babel}
\usepackage{listings}%code format
\usepackage[pdftex]{graphicx}
\usepackage[pagestyles]{titlesec}
\usepackage{fancyhdr}
%\usepackage{emptypage} %to remove headers and footers with the empty pages
\usepackage{rotating}
\usepackage[Lenny]{fncychap} %http://texblog.org/2012/07/03/fancy-latex-chapter-styles/
\usepackage{lipsum}
\usepackage{caption}
\usepackage{hyperref}        %links
\usepackage[all]{hypcap}
\usepackage{listings}        %code
\usepackage{tocloft}
\usepackage[nottoc]{tocbibind}
\usepackage{epigraph}        %citation
\usepackage{array}
\usepackage{xcolor}
\usepackage{etoolbox}
\usepackage[bottom]{footmisc}
\usepackage{verbatim} % underline align
\usepackage[normalem]{ulem}
%%%PACKAGES

\makeatletter
\patchcmd{\@makechapterhead}{50\p@}{0pt}{}{}
\patchcmd{\@makeschapterhead}{50\p@}{0pt}{}{}
\makeatother

\usepackage{xcolor}
\geometry{vmargin=2.5cm}

\input{./params/colors.tex}
\input{./params/languages.tex}

\hypersetup{
    bookmarks=true,         % show bookmarks bar?
    unicode=false,          % non-Latin characters in Acrobat’s bookmarks
    pdftoolbar=true,        % show Acrobat’s toolbar?
    pdfmenubar=true,        % show Acrobat’s menu?
    pdffitwindow=false,     % window fit to page when opened
    pdfstartview={FitH},    % fits the width of the page to the window
    pdftitle={Rapport Stage Colin LEVERGER ENSSAT IMR},    % title
    pdfauthor={Colin LEVERGER},     % author
    pdfsubject={The Subject},   % subject of the document
    pdfcreator={Colin LEVERGER},   % creator of the document
    pdfproducer={Colin LEVERGER}, % producer of the document
    pdfkeywords={ENSSAT, Orange}, % list of keywords
    linktocpage,
    pdfnewwindow=true,      % links in new PDF window
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=mygreen,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=blue           % color of external links
}

\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{#1}}
\fancypagestyle{myfancy}{
  \fancyhf{}
  \fancyhead[LO,RE]{}
  \fancyhead[RO]{\itshape\nouppercase{\leftmark}}
  \fancyhead[LE]{\itshape\nouppercase{\rightmark}}
  \fancyfoot[CO,CE]{}
  \fancyfoot[RO,LE]{\thepage}
  \renewcommand{\headrulewidth}{1pt}
}
\pagestyle{myfancy}

\fancypagestyle{plain}{
  \fancyhf{}
  \fancyfoot[RO,LE]{\thepage}
  \renewcommand{\headrulewidth}{0pt}
}

\fancypagestyle{empty}{
  \fancyhf{}
  \renewcommand{\headrulewidth}{0pt}
}

\setlength{\footskip}{20pt} % Bas de page + séparation
\setlength{\parskip}{0.3em}

\newcommand{\hsp}{\hspace{20pt}}
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}

\makeatletter

\newif\if@mainmatter \@mainmattertrue

%chiffre romains avant le contenu...
\makeatletter

\newif\if@mainmatter \@mainmattertrue

\newcommand\frontmatter{%
    \cleardoublepage
  \@mainmatterfalse
  \pagenumbering{roman}
  \pagestyle{empty}}
\newcommand\mainmatter{%
    \cleardoublepage
  \@mainmattertrue
  \pagenumbering{arabic}
  \pagestyle{myfancy}}
\makeatother
